<h1 style="margin:20px 0px 40px ; text-align: center;" >Lista de Contenido</h1>


<mat-card >

  <mat-card-title class="botonContenido">

    <button mat-raised-button class="agregar" (click)="nuevoContenido()">
      <mat-icon mat-list-icon>add</mat-icon>Nuevo Contenido
    </button>

  </mat-card-title>
  <!-- <br>
  <mat-divider></mat-divider> -->

  <mat-card-content class="dashboard-card-content">

    <!-- funcional -->
    <!-- <mat-form-field appearance="fill" style="width: 950px;">
      <mat-label>Buscar</mat-label>
      <input matInput (keyup)="aplicarFiltroTabla($event)" #input>

    </mat-form-field> -->

    <mat-form-field appearance="fill" class="futuristic-search-field">
      <input matInput (keyup)="aplicarFiltroTabla($event)" #input placeholder="Buscar">
      <button mat-icon-button matSuffix aria-label="Buscar" class="futuristic-search-button">
        <mat-icon>search</mat-icon>
      </button>
    </mat-form-field>



    <div class="table-container">

      <table mat-table [dataSource]="dataListaContenido">

        <ng-container matColumnDef="idContenido">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">Id
            Contenido</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            {{element.idContenido}} </td>
        </ng-container>
        <ng-container matColumnDef="tipoContenido">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">Tipo
            Contenido</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            {{element.tipoContenido}} </td>
        </ng-container>

        <ng-container matColumnDef="imagenes">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">
            Imagen</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            <!-- Usa *ngIf para mostrar la imagen solo si element.imagenes tiene un valor -->
            <img *ngIf="element.imagenUrl" [src]="element.imagenUrl" alt="Sin Imagen" style="width: 100px; height: 100px;"
              (click)="verImagen(element)">
          </td>
        </ng-container>



        <ng-container matColumnDef="acciones">
          <th mat-header-cell *matHeaderCellDef style="width: 80px;"
            style="background-color: #2c3e50; color: white; text-align: center;">Acciones</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">

            <button mat-icon-button color="primary" (click)="editarContenido(element)" matTooltip="Editar contenido"
              [disabled]=" element.tipoContenido== 'Imagen'  ">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn" (click)="eliminarContenido(element)" matTooltip="Eliminar contenido">
              <mat-icon>delete</mat-icon>
            </button>
            <button mat-icon-button color="primary" (click)="cambiarImagen(element)"
              [disabled]=" element.tipoContenido== 'Texto'  " matTooltip="Cambiar imagen">
              <mat-icon>image</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnasTabla2"></tr>
        <tr mat-row *matRowDef="let row; columns : columnasTabla2;"></tr>


        <tr class="mat-row" *matNoDataRow>

          <td class="mat-cell " colspan="4" style="color: black;">No hay datos que coincida con el filtro"{{input.value}}"</td>
        </tr>

      </table>



      <mat-paginator [pageSizeOptions]="[5,10,20]" showFirstLastButtons>

      </mat-paginator>


    </div>
    <br>



    <div class="table-container2">

      <table mat-table [dataSource]="dataListaContenidoPromo">

        <ng-container matColumnDef="idContenido">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">Id
            Contenido</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            {{element.idContenido}} </td>
        </ng-container>
        <ng-container matColumnDef="tipoContenido">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">Tipo
            Contenido</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            {{element.tipoContenido}} </td>
        </ng-container>

        <ng-container matColumnDef="imagenes">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">
            Imagen</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            <!-- Usa *ngIf para mostrar la imagen solo si element.imagenes tiene un valor -->
            <img *ngIf="element.imagenUrl" [src]="element.imagenUrl" alt="Sin Imagen" style="width: 100px; height: 100px;"
              (click)="verImagen(element)">
          </td>
        </ng-container>



        <ng-container matColumnDef="acciones">
          <th mat-header-cell *matHeaderCellDef style="width: 80px;"
            style="background-color: #2c3e50; color: white; text-align: center;">Acciones</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">

            <button mat-icon-button color="primary" (click)="editarContenido(element)" matTooltip="Editar contenido"
              [disabled]=" element.tipoContenido== 'Promociones'  ">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn" (click)="eliminarContenido(element)" matTooltip="Eliminar contenido">
              <mat-icon>delete</mat-icon>
            </button>
            <button mat-icon-button color="primary" (click)="cambiarImagen(element)"
              [disabled]=" element.tipoContenido== 'Texto'  " matTooltip="Cambiar imagen">
              <mat-icon>image</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnasTabla2"></tr>
        <tr mat-row *matRowDef="let row; columns : columnasTabla2;"></tr>


        <tr class="mat-row" *matNoDataRow>

          <td class="mat-cell " colspan="4" style="color: black;">No hay datos que coincida con el filtro"{{input.value}}"</td>
        </tr>

      </table>



      <mat-paginator [pageSizeOptions]="[5,10,20]" showFirstLastButtons>

      </mat-paginator>


    </div>
    <br>

    <div class="table-container3">

      <table mat-table [dataSource]="dataListaContenido2">

        <ng-container matColumnDef="idContenido">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">Id
            Contenido</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            {{element.idContenido}} </td>
        </ng-container>
        <ng-container matColumnDef="comentarios">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">
            Comentarios</th>
          <td mat-cell *matCellDef="let element" style=" text-align: center;">
            <button mat-icon-button class="ver" (click)="verContenido(element)" matTooltip="Ver Comentarios">
              <mat-icon>visibility</mat-icon>
            </button>
          </td>
        </ng-container>
        <ng-container matColumnDef="tipoComentarios">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">Tipo
            Comentario</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            {{element.tipoComentarios}} </td>
        </ng-container>
        <ng-container matColumnDef="tipoContenido">
          <th mat-header-cell *matHeaderCellDef style="background-color: #2c3e50; color: white; text-align: center;">Tipo
            Contenido</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            {{element.tipoContenido}} </td>
        </ng-container>


        <ng-container matColumnDef="acciones">
          <th mat-header-cell *matHeaderCellDef style="width: 80px;"
            style="background-color: #2c3e50; color: white; text-align: center;">Acciones</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">

            <button mat-icon-button color="primary" (click)="editarContenido(element)" matTooltip="Editar contenido"
              [disabled]=" element.tipoContenido== 'Imagen'  ">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn" (click)="eliminarContenido(element)" matTooltip="Eliminar contenido">
              <mat-icon>delete</mat-icon>
            </button>
            <button mat-icon-button color="primary" (click)="cambiarImagen(element)"
              [disabled]=" element.tipoContenido== 'Texto'  " matTooltip="Cambiar imagen">
              <mat-icon>image</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnasTabla"></tr>
        <tr mat-row *matRowDef="let row; columns : columnasTabla;"></tr>


        <tr class="mat-row" *matNoDataRow>

          <td class="mat-cell " colspan="4" style="color: black;">No hay datos que coincida con el filtro"{{input.value}}"</td>
        </tr>

      </table>



      <mat-paginator [pageSizeOptions]="[5]" showFirstLastButtons>

      </mat-paginator>


    </div>


  </mat-card-content>




</mat-card>
<footer class="footer">
  <p>Copyright &copy; 2025 - Hecho con orgullo en Colombia. Todos los derechos reservados.</p>
  </footer>
